<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UrbanWay ‚Äî –ì–æ—Ä–æ–¥—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <header>
    <h1>üöå UrbanWay</h1>
    <nav>
      <button class="tab active" data-tab="pathfinder">–ú–∞—Ä—à—Ä—É—Ç</button>
      <button class="tab" data-tab="stops">–û—Å—Ç–∞–Ω–æ–≤–∫–∏</button>
      <button class="tab" data-tab="locations">–õ–æ–∫–∞—Ü–∏–∏</button>
      <button class="tab" data-tab="routes">–ú–∞—Ä—à—Ä—É—Ç—ã</button>
      <button class="tab" data-tab="relationships">–°–≤—è–∑–∏</button>
      <button class="tab" data-tab="map">–ö–∞—Ä—Ç–∞</button>
    </nav>
  </header>

  <main>
    <!-- PATHFINDER TAB -->
    <section id="pathfinder" class="tab-content active">
      <div class="pathfinder-form">
        <h2>–ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç</h2>
        <div class="form-row">
          <label>–û—Ç–∫—É–¥–∞:</label>
          <select id="from-location">
            <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
          </select>
        </div>
        <div class="form-row">
          <label>–ö—É–¥–∞:</label>
          <select id="to-location">
            <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
          </select>
        </div>
        <button id="find-path" class="primary-btn">–ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç</button>
      </div>
      <div id="path-result" class="path-result hidden"></div>
    </section>

    <!-- STOPS TAB -->
    <section id="stops" class="tab-content">
      <h2>–û—Å—Ç–∞–Ω–æ–≤–∫–∏</h2>
      <div class="filters">
        <input type="text" id="stops-filter-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ...">
        <input type="number" id="stops-filter-lat-min" placeholder="–®–∏—Ä–æ—Ç–∞ –æ—Ç" step="0.01">
        <input type="number" id="stops-filter-lat-max" placeholder="–®–∏—Ä–æ—Ç–∞ –¥–æ" step="0.01">
        <input type="number" id="stops-filter-lon-min" placeholder="–î–æ–ª–≥–æ—Ç–∞ –æ—Ç" step="0.01">
        <input type="number" id="stops-filter-lon-max" placeholder="–î–æ–ª–≥–æ—Ç–∞ –¥–æ" step="0.01">
        <select id="stops-sort">
          <option value="">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</option>
          <option value="name">–ü–æ –∏–º–µ–Ω–∏</option>
          <option value="latitude">–ü–æ —à–∏—Ä–æ—Ç–µ</option>
          <option value="longitude">–ü–æ –¥–æ–ª–≥–æ—Ç–µ</option>
        </select>
        <select id="stops-order">
          <option value="asc">‚Üë –í–æ–∑—Ä.</option>
          <option value="desc">‚Üì –£–±—ã–≤.</option>
        </select>
        <input type="number" id="stops-limit" placeholder="–õ–∏–º–∏—Ç" min="1" max="100">
        <button id="stops-apply-filter" class="filter-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
      <div class="add-form">
        <input type="text" id="stop-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required>
        <input type="number" id="stop-lat" placeholder="–®–∏—Ä–æ—Ç–∞" step="0.0001" required>
        <input type="number" id="stop-lon" placeholder="–î–æ–ª–≥–æ—Ç–∞" step="0.0001" required>
        <button id="add-stop" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
      <table id="stops-table">
        <thead>
          <tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th>–®–∏—Ä–æ—Ç–∞</th><th>–î–æ–ª–≥–æ—Ç–∞</th><th></th><th></th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <!-- Edit Stop Modal -->
      <div id="edit-stop-modal" class="modal hidden">
        <div class="modal-content">
          <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫—É</h3>
          <input type="hidden" id="edit-stop-id">
          <div class="form-row"><label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label><input type="text" id="edit-stop-name"></div>
          <div class="form-row"><label>–®–∏—Ä–æ—Ç–∞:</label><input type="number" id="edit-stop-lat" step="0.0001"></div>
          <div class="form-row"><label>–î–æ–ª–≥–æ—Ç–∞:</label><input type="number" id="edit-stop-lon" step="0.0001"></div>
          <div class="modal-actions">
            <button id="save-stop" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="close-modal">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </div>
    </section>

    <!-- LOCATIONS TAB -->
    <section id="locations" class="tab-content">
      <h2>–õ–æ–∫–∞—Ü–∏–∏</h2>
      <div class="filters">
        <input type="text" id="locations-filter-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ...">
        <select id="locations-sort">
          <option value="">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</option>
          <option value="name">–ü–æ –∏–º–µ–Ω–∏</option>
        </select>
        <select id="locations-order">
          <option value="asc">‚Üë –í–æ–∑—Ä.</option>
          <option value="desc">‚Üì –£–±—ã–≤.</option>
        </select>
        <input type="number" id="locations-limit" placeholder="–õ–∏–º–∏—Ç" min="1" max="100">
        <button id="locations-apply-filter" class="filter-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
      <div class="add-form">
        <input type="text" id="location-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required>
        <button id="add-location" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
      <table id="locations-table">
        <thead>
          <tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th></th><th></th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <!-- Edit Location Modal -->
      <div id="edit-location-modal" class="modal hidden">
        <div class="modal-content">
          <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞—Ü–∏—é</h3>
          <input type="hidden" id="edit-location-id">
          <div class="form-row"><label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label><input type="text" id="edit-location-name"></div>
          <div class="modal-actions">
            <button id="save-location" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="close-modal">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ROUTES TAB -->
    <section id="routes" class="tab-content">
      <h2>–ú–∞—Ä—à—Ä—É—Ç—ã</h2>
      <div class="filters">
        <input type="text" id="routes-filter-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ...">
        <select id="routes-sort">
          <option value="">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</option>
          <option value="name">–ü–æ –∏–º–µ–Ω–∏</option>
        </select>
        <select id="routes-order">
          <option value="asc">‚Üë –í–æ–∑—Ä.</option>
          <option value="desc">‚Üì –£–±—ã–≤.</option>
        </select>
        <input type="number" id="routes-limit" placeholder="–õ–∏–º–∏—Ç" min="1" max="100">
        <button id="routes-apply-filter" class="filter-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
      <div class="add-form">
        <input type="text" id="route-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (Bus 5, Tram 2...)" required>
        <button id="add-route" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
      <table id="routes-table">
        <thead>
          <tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th>–û—Å—Ç–∞–Ω–æ–≤–∫–∏</th><th></th><th></th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <!-- Edit Route Modal -->
      <div id="edit-route-modal" class="modal hidden">
        <div class="modal-content">
          <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç</h3>
          <input type="hidden" id="edit-route-id">
          <div class="form-row"><label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label><input type="text" id="edit-route-name"></div>
          <div class="modal-actions">
            <button id="save-route" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="close-modal">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </div>

      <div id="route-stops-modal" class="modal hidden">
        <div class="modal-content">
          <h3>–û—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞: <span id="modal-route-name"></span></h3>
          <ul id="modal-stops-list"></ul>
          <button class="close-modal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </section>

    <!-- RELATIONSHIPS TAB -->
    <section id="relationships" class="tab-content">
      <h2>–°–≤—è–∑–∏</h2>
      <div class="sub-tabs">
        <button class="sub-tab active" data-subtab="next">NEXT (—Å–ª–µ–¥—É—é—â–∞—è)</button>
        <button class="sub-tab" data-subtab="transfers">TRANSFER (–ø–µ—Ä–µ—Å–∞–¥–∫–∞)</button>
        <button class="sub-tab" data-subtab="nearby">NEARBY (—Ä—è–¥–æ–º)</button>
      </div>

      <!-- NEXT -->
      <div id="rel-next" class="sub-tab-content active">
        <div class="filters">
          <input type="text" id="next-filter-route" placeholder="–ú–∞—Ä—à—Ä—É—Ç...">
          <button id="next-apply-filter" class="filter-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>
        <div class="add-form">
          <select id="next-from-stop"><option value="">–û—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏...</option></select>
          <select id="next-to-stop"><option value="">–î–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏...</option></select>
          <select id="next-route"><option value="">–ú–∞—Ä—à—Ä—É—Ç...</option></select>
          <button id="add-next" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <table id="next-table">
          <thead>
            <tr><th>–û—Ç</th><th>–î–æ</th><th>–ú–∞—Ä—à—Ä—É—Ç</th><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <!-- TRANSFERS -->
      <div id="rel-transfers" class="sub-tab-content">
        <div class="add-form">
          <select id="transfer-from-stop"><option value="">–û—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏...</option></select>
          <select id="transfer-to-stop"><option value="">–î–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏...</option></select>
          <button id="add-transfer" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <table id="transfers-table">
          <thead>
            <tr><th>–û—Ç</th><th>–î–æ</th><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <!-- NEARBY -->
      <div id="rel-nearby" class="sub-tab-content">
        <div class="filters">
          <select id="nearby-filter-location"><option value="">–í—Å–µ –ª–æ–∫–∞—Ü–∏–∏</option></select>
          <button id="nearby-apply-filter" class="filter-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>
        <div class="add-form">
          <select id="nearby-location"><option value="">–õ–æ–∫–∞—Ü–∏—è...</option></select>
          <select id="nearby-stop"><option value="">–û—Å—Ç–∞–Ω–æ–≤–∫–∞...</option></select>
          <button id="add-nearby" class="add-btn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <table id="nearby-table">
          <thead>
            <tr><th>–õ–æ–∫–∞—Ü–∏—è</th><th>–û—Å—Ç–∞–Ω–æ–≤–∫–∞</th><th></th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- MAP TAB -->
    <section id="map" class="tab-content">
      <h2>–ö–∞—Ä—Ç–∞ –≥—Ä–∞—Ñ–∞</h2>
      <div class="map-legend">
        <span class="legend-item"><span class="legend-dot stop"></span> –û—Å—Ç–∞–Ω–æ–≤–∫–∞</span>
        <span class="legend-item"><span class="legend-dot location"></span> –õ–æ–∫–∞—Ü–∏—è</span>
        <span class="legend-item"><span class="legend-line next"></span> NEXT</span>
        <span class="legend-item"><span class="legend-line transfer"></span> TRANSFER</span>
        <span class="legend-item"><span class="legend-line nearby"></span> NEARBY</span>
      </div>
      <div id="graph-container"></div>
    </section>
  </main>

  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <script src="/app.js"></script>
</body>
</html>

